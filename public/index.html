<!DOCTYPE>
<html ng-app="myApp">
<head>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
<link href="bower_components/angular-xeditable/dist/css/xeditable.css" rel="stylesheet">

  <title>mean stack todo deneme</title>
</head>
<body>
  <div class="container" ng-controller="AppCtrl">
    <h1>mean stack todo deneme</h1>
<table style="width:100%">
  <tr>
    <form>
        <td><input placeholder="Do not forget to write a todo.." class="form-control" ng-model="todo.text"></td>
          
        <td>&nbsp;  	</td>
        <td><button class="btn btn-primary" ng-click="addTodo()">Add Todo</button></td></form>
        <td>&nbsp;  	</td>
  </tr>
  <tr><td>&nbsp;  	</td></tr>
</table>
    <table class="table table-striped">
     
      <tbody>
        <tr>
<!--          <td><input class="form-control" ng-model="todo.text"></td>
        <td><input class="form-control" ng-model="todo.status"></td>
          <td><input class="form-control" ng-model="todo.active"></td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
          <td><button class="btn btn-primary" ng-click="addTodo()">Add Todo</button></td>
          <td><button class="btn btn-primary" ng-click="update()">Update</button></td>
  	         <td>&nbsp;</td>
             <td>&nbsp;</td>
-->

        </tr><thead>
           <td><b>Todo Description</b></td>
          <td><b>Status</b></td>
          <td><b>Active</b></td>
          <td><b>ID</b></td>
          <td><b>Buttons</b></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>

        </thead>
         
          
        <tr ng-repeat="todo in todolist">
          <td><a href="#" editable-text="todo.text">{{todo.text || 'empty' }}</a></td>
          <td>
            
            <p data-ng-if="todo.status>2">Done</p>
            <p data-ng-if="todo.status==2">In progress</p>
            <p data-ng-if="todo.status==1">Initialized</p>
            <p data-ng-if="todo.status==0">Not initialized</p>
            </td>
          <td>
            <p data-ng-if="todo.active>=2" >Reactivated {{Math.floor(todo.active/2)}} time(s)</p>
            <p data-ng-if="todo.active==1 ">Closed</p>
            <p data-ng-if="todo.active%2==0 && todo.active<1">Active</p>
          </td>
          <td>{{todo._id}}</td>
          <td><button class="btn btn-danger" ng-click="remove(todo._id)">Remove</button></td>
          <td>
          <button data-ng-if="todo.status>2 && todo.active!=1" disabled class="btn btn-info">Done</button>

          <button  data-ng-if="todo.status==2 && todo.active%2!=1" class="btn btn-info" ng-click="updateStatus(todo._id)">Change to Done</button>
          <button data-ng-if="todo.status==1 && todo.active%2!=1" class="btn btn-info" ng-click="updateStatus(todo._id)">Change to In Progress</button>
          <button data-ng-if="todo.status==0 && todo.active%2!=1" class="btn btn-info" ng-click="updateStatus(todo._id)">Change to Initialized</button>
            <!-- mod-->
              <button disabled data-ng-if="todo.status==2 && todo.active%2==1" class="btn btn-info" ng-click="updateStatus(todo._id)">Change to Done</button>
          <button disabled data-ng-if="todo.status==1 && todo.active%2==1" class="btn btn-info" ng-click="updateStatus(todo._id)">Change to In Progress</button>
          <button disabled data-ng-if="todo.status==0 && todo.active%2==1" class="btn btn-info" ng-click="updateStatus(todo._id)">Change to Initialized</button>
          </td>
          <td>
        
          <button data-ng-if="(todo.active)%2==1" class="btn btn-info" ng-click="updateActive(todo._id)">Re-Active</button>
          <button data-ng-if="(todo.active)%2==0" class="btn btn-info" ng-click="updateActive(todo._id)">Close the thread</button>
          </td>

        </tr>
      </tbody>
    </table>

  </div>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular.min.js"></script>
<script src="controllers/controller.js"></script>
  <script src="bower_components/angular-xeditable/dist/js/xeditable.js"></script>
</body>
</html>
  